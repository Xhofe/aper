(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();const I={};function Xe(r){I.context=r}const Ue=(r,o)=>r===o,M=Symbol("solid-proxy"),Se=Symbol("solid-track"),Q={equals:Ue};let ke=Le;const C={},H=1,Y=2,Ie={owned:null,cleanups:null,context:null,owner:null};var T=null;let j=null,b=null,$=null,S=null,k=null,ae=0;function W(r,o){const t=b,i=T,s=r.length===0,l=s?Ie:{owned:null,cleanups:null,context:null,owner:o||i},d=s?r:()=>r(()=>fe(l));T=l,b=null;try{return ce(d,!0)}finally{b=t,T=i}}function le(r,o){o=o?Object.assign({},Q,o):Q;const t={value:r,observers:null,observerSlots:null,pending:C,comparator:o.equals||void 0},i=s=>(typeof s=="function"&&(s=s(t.pending!==C?t.pending:t.value)),ue(t,s));return[Pe.bind(t),i]}function P(r,o,t){const i=de(r,o,!1,H);q(i)}function ve(r,o,t){ke=Ze;const i=de(r,o,!1,H);i.user=!0,k?k.push(i):q(i)}function Z(r,o,t){t=t?Object.assign({},Q,t):Q;const i=de(r,o,!0,0);return i.pending=C,i.observers=null,i.observerSlots=null,i.comparator=t.equals||void 0,q(i),Pe.bind(i)}function Oe(r){if($)return r();let o;const t=$=[];try{o=r()}finally{$=null}return ce(()=>{for(let i=0;i<t.length;i+=1){const s=t[i];if(s.pending!==C){const l=s.pending;s.pending=C,ue(s,l)}}},!1),o}function ne(r){let o,t=b;return b=null,o=r(),b=t,o}function We(r){return T===null||(T.cleanups===null?T.cleanups=[r]:T.cleanups.push(r)),r}function Ee(){return b}function Pe(){const r=j;if(this.sources&&(this.state||r)){const o=S;S=null,this.state===H||r?q(this):K(this),S=o}if(b){const o=this.observers?this.observers.length:0;b.sources?(b.sources.push(this),b.sourceSlots.push(o)):(b.sources=[this],b.sourceSlots=[o]),this.observers?(this.observers.push(b),this.observerSlots.push(b.sources.length-1)):(this.observers=[b],this.observerSlots=[b.sources.length-1])}return this.value}function ue(r,o,t){if($)return r.pending===C&&$.push(r),r.pending=o,o;if(r.comparator&&r.comparator(r.value,o))return o;let i=!1;return r.value=o,r.observers&&r.observers.length&&ce(()=>{for(let s=0;s<r.observers.length;s+=1){const l=r.observers[s];i&&j.disposed.has(l),(i&&!l.tState||!i&&!l.state)&&(l.pure?S.push(l):k.push(l),l.observers&&Me(l)),i||(l.state=H)}if(S.length>1e6)throw S=[],new Error},!1),o}function q(r){if(!r.fn)return;fe(r);const o=T,t=b,i=ae;b=T=r,Qe(r,r.value,i),b=t,T=o}function Qe(r,o,t){let i;try{i=r.fn(o)}catch(s){He(s)}(!r.updatedAt||r.updatedAt<=t)&&(r.observers&&r.observers.length?ue(r,i):r.value=i,r.updatedAt=t)}function de(r,o,t,i=H,s){const l={fn:r,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:o,owner:T,context:null,pure:t};return T===null||T!==Ie&&(T.owned?T.owned.push(l):T.owned=[l]),l}function V(r){const o=j;if(r.state===0||o)return;if(r.state===Y||o)return K(r);if(r.suspense&&ne(r.suspense.inFallback))return r.suspense.effects.push(r);const t=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<ae);)(r.state||o)&&t.push(r);for(let i=t.length-1;i>=0;i--)if(r=t[i],r.state===H||o)q(r);else if(r.state===Y||o){const s=S;S=null,K(r,t[0]),S=s}}function ce(r,o){if(S)return r();let t=!1;o||(S=[]),k?t=!0:k=[],ae++;try{const i=r();return Ye(t),i}catch(i){S||(k=null),He(i)}}function Ye(r){S&&(Le(S),S=null),!r&&(k.length?Oe(()=>{ke(k),k=null}):k=null)}function Le(r){for(let o=0;o<r.length;o++)V(r[o])}function Ze(r){let o,t=0;for(o=0;o<r.length;o++){const s=r[o];s.user?r[t++]=s:V(s)}I.context&&Xe();const i=r.length;for(o=0;o<t;o++)V(r[o]);for(o=i;o<r.length;o++)V(r[o])}function K(r,o){const t=j;r.state=0;for(let i=0;i<r.sources.length;i+=1){const s=r.sources[i];s.sources&&(s.state===H||t?s!==o&&V(s):(s.state===Y||t)&&K(s,o))}}function Me(r){const o=j;for(let t=0;t<r.observers.length;t+=1){const i=r.observers[t];(!i.state||o)&&(i.state=Y,i.pure?S.push(i):k.push(i),i.observers&&Me(i))}}function fe(r){let o;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),i=r.sourceSlots.pop(),s=t.observers;if(s&&s.length){const l=s.pop(),d=t.observerSlots.pop();i<s.length&&(l.sourceSlots[d]=i,s[i]=l,t.observerSlots[i]=d)}}if(r.owned){for(o=0;o<r.owned.length;o++)fe(r.owned[o]);r.owned=null}if(r.cleanups){for(o=0;o<r.cleanups.length;o++)r.cleanups[o]();r.cleanups=null}r.state=0,r.context=null}function He(r){throw r}const Ke=Symbol("fallback");function we(r){for(let o=0;o<r.length;o++)r[o]()}function Je(r,o,t={}){let i=[],s=[],l=[],d=0,_=o.length>1?[]:null;return We(()=>we(l)),()=>{let h=r()||[],y,m;return h[Se],ne(()=>{let n=h.length,a,u,f,p,c,g,v,w,x;if(n===0)d!==0&&(we(l),l=[],i=[],s=[],d=0,_&&(_=[])),t.fallback&&(i=[Ke],s[0]=W(E=>(l[0]=E,t.fallback())),d=1);else if(d===0){for(s=new Array(n),m=0;m<n;m++)i[m]=h[m],s[m]=W(e);d=n}else{for(f=new Array(n),p=new Array(n),_&&(c=new Array(n)),g=0,v=Math.min(d,n);g<v&&i[g]===h[g];g++);for(v=d-1,w=n-1;v>=g&&w>=g&&i[v]===h[w];v--,w--)f[w]=s[v],p[w]=l[v],_&&(c[w]=_[v]);for(a=new Map,u=new Array(w+1),m=w;m>=g;m--)x=h[m],y=a.get(x),u[m]=y===void 0?-1:y,a.set(x,m);for(y=g;y<=v;y++)x=i[y],m=a.get(x),m!==void 0&&m!==-1?(f[m]=s[y],p[m]=l[y],_&&(c[m]=_[y]),m=u[m],a.set(x,m)):l[y]();for(m=g;m<n;m++)m in f?(s[m]=f[m],l[m]=p[m],_&&(_[m]=c[m],_[m](m))):s[m]=W(e);s=s.slice(0,d=n),i=h.slice(0)}return s});function e(n){if(l[m]=n,_){const[a,u]=le(m);return _[m]=u,o(h[m],a)}return o(h[m])}}}function L(r,o){return ne(()=>r(o||{}))}function U(){return!0}const ze={get(r,o,t){return o===M?t:r.get(o)},has(r,o){return r.has(o)},set:U,deleteProperty:U,getOwnPropertyDescriptor(r,o){return{configurable:!0,enumerable:!0,get(){return r.get(o)},set:U,deleteProperty:U}},ownKeys(r){return r.keys()}};function re(r){return(r=typeof r=="function"?r():r)==null?{}:r}function et(...r){return new Proxy({get(o){for(let t=r.length-1;t>=0;t--){const i=re(r[t])[o];if(i!==void 0)return i}},has(o){for(let t=r.length-1;t>=0;t--)if(o in re(r[t]))return!0;return!1},keys(){const o=[];for(let t=0;t<r.length;t++)o.push(...Object.keys(re(r[t])));return[...new Set(o)]}},ze)}function Fe(r){const o="fallback"in r&&{fallback:()=>r.fallback};return Z(Je(()=>r.each,r.children,o||void 0))}function tt(r){let o=!1;const t=Z(()=>r.when,void 0,{equals:(i,s)=>o?i===s:!i==!s});return Z(()=>{const i=t();if(i){const s=r.children;return(o=typeof s=="function"&&s.length>0)?ne(()=>s(i)):s}return r.fallback})}function nt(r,o,t){let i=t.length,s=o.length,l=i,d=0,_=0,h=o[s-1].nextSibling,y=null;for(;d<s||_<l;){if(o[d]===t[_]){d++,_++;continue}for(;o[s-1]===t[l-1];)s--,l--;if(s===d){const m=l<i?_?t[_-1].nextSibling:t[l-_]:h;for(;_<l;)r.insertBefore(t[_++],m)}else if(l===_)for(;d<s;)(!y||!y.has(o[d]))&&o[d].remove(),d++;else if(o[d]===t[l-1]&&t[_]===o[s-1]){const m=o[--s].nextSibling;r.insertBefore(t[_++],o[d++].nextSibling),r.insertBefore(t[--l],m),o[s]=t[l]}else{if(!y){y=new Map;let e=_;for(;e<l;)y.set(t[e],e++)}const m=y.get(o[d]);if(m!=null)if(_<m&&m<l){let e=d,n=1,a;for(;++e<s&&e<l&&!((a=y.get(o[e]))==null||a!==m+n);)n++;if(n>m-_){const u=o[d];for(;_<m;)r.insertBefore(t[_++],u)}else r.replaceChild(t[_++],o[d++])}else d++;else o[d++].remove()}}}const Ae="_$DX_DELEGATE";function ot(r,o,t){let i;return W(s=>{i=s,o===document?r():O(o,r(),o.firstChild?null:void 0,t)}),()=>{i(),o.textContent=""}}function F(r,o,t){const i=document.createElement("template");i.innerHTML=r;let s=i.content.firstChild;return t&&(s=s.firstChild),s}function De(r,o=window.document){const t=o[Ae]||(o[Ae]=new Set);for(let i=0,s=r.length;i<s;i++){const l=r[i];t.has(l)||(t.add(l),o.addEventListener(l,rt))}}function be(r,o,t){t==null?r.removeAttribute(o):r.setAttribute(o,t)}function _e(r,o){o==null?r.removeAttribute("class"):r.className=o}function O(r,o,t,i){if(t!==void 0&&!i&&(i=[]),typeof o!="function")return J(r,o,i,t);P(s=>J(r,o(),s,t),i)}function rt(r){const o=`$$${r.type}`;let t=r.composedPath&&r.composedPath()[0]||r.target;for(r.target!==t&&Object.defineProperty(r,"target",{configurable:!0,value:t}),Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return t||document}}),I.registry&&!I.done&&(I.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));t!==null;){const i=t[o];if(i&&!t.disabled){const s=t[`${o}Data`];if(s!==void 0?i.call(t,s,r):i.call(t,r),r.cancelBubble)return}t=t.host&&t.host!==t&&t.host instanceof Node?t.host:t.parentNode}}function J(r,o,t,i,s){for(I.context&&!t&&(t=[...r.childNodes]);typeof t=="function";)t=t();if(o===t)return t;const l=typeof o,d=i!==void 0;if(r=d&&t[0]&&t[0].parentNode||r,l==="string"||l==="number"){if(I.context)return t;if(l==="number"&&(o=o.toString()),d){let _=t[0];_&&_.nodeType===3?_.data=o:_=document.createTextNode(o),t=B(r,t,i,_)}else t!==""&&typeof t=="string"?t=r.firstChild.data=o:t=r.textContent=o}else if(o==null||l==="boolean"){if(I.context)return t;t=B(r,t,i)}else{if(l==="function")return P(()=>{let _=o();for(;typeof _=="function";)_=_();t=J(r,_,t,i)}),()=>t;if(Array.isArray(o)){const _=[],h=t&&Array.isArray(t);if(ie(_,o,t,s))return P(()=>t=J(r,_,t,i,!0)),()=>t;if(I.context){for(let y=0;y<_.length;y++)if(_[y].parentNode)return t=_}if(_.length===0){if(t=B(r,t,i),d)return t}else h?t.length===0?xe(r,_,i):nt(r,t,_):(t&&B(r),xe(r,_));t=_}else if(o instanceof Node){if(I.context&&o.parentNode)return t=d?[o]:o;if(Array.isArray(t)){if(d)return t=B(r,t,i,o);B(r,t,null,o)}else t==null||t===""||!r.firstChild?r.appendChild(o):r.replaceChild(o,r.firstChild);t=o}}return t}function ie(r,o,t,i){let s=!1;for(let l=0,d=o.length;l<d;l++){let _=o[l],h=t&&t[l];if(_ instanceof Node)r.push(_);else if(!(_==null||_===!0||_===!1))if(Array.isArray(_))s=ie(r,_,h)||s;else if(typeof _=="function")if(i){for(;typeof _=="function";)_=_();s=ie(r,Array.isArray(_)?_:[_],h)||s}else r.push(_),s=!0;else{const y=String(_);h&&h.nodeType===3&&h.data===y?r.push(h):r.push(document.createTextNode(y))}}return s}function xe(r,o,t){for(let i=0,s=o.length;i<s;i++)r.insertBefore(o[i],t)}function B(r,o,t,i){if(t===void 0)return r.textContent="";const s=i||document.createTextNode("");if(o.length){let l=!1;for(let d=o.length-1;d>=0;d--){const _=o[d];if(s!==_){const h=_.parentNode===r;!l&&!d?h?r.replaceChild(s,_):r.insertBefore(s,t):h&&_.remove()}else l=!0}}else r.insertBefore(s,t);return[s]}const Be=Symbol("store-raw"),z=Symbol("store-node"),it=Symbol("store-name");function Ce(r,o){let t=r[M];if(!t){Object.defineProperty(r,M,{value:t=new Proxy(r,lt)});const i=Object.keys(r),s=Object.getOwnPropertyDescriptors(r);for(let l=0,d=i.length;l<d;l++){const _=i[l];if(s[_].get){const h=s[_].get.bind(t);Object.defineProperty(r,_,{get:h})}}}return t}function ee(r){let o;return r!=null&&typeof r=="object"&&(r[M]||!(o=Object.getPrototypeOf(r))||o===Object.prototype||Array.isArray(r))}function R(r,o=new Set){let t,i,s,l;if(t=r!=null&&r[Be])return t;if(!ee(r)||o.has(r))return r;if(Array.isArray(r)){Object.isFrozen(r)?r=r.slice(0):o.add(r);for(let d=0,_=r.length;d<_;d++)s=r[d],(i=R(s,o))!==s&&(r[d]=i)}else{Object.isFrozen(r)?r=Object.assign({},r):o.add(r);const d=Object.keys(r),_=Object.getOwnPropertyDescriptors(r);for(let h=0,y=d.length;h<y;h++)l=d[h],!_[l].get&&(s=r[l],(i=R(s,o))!==s&&(r[l]=i))}return r}function pe(r){let o=r[z];return o||Object.defineProperty(r,z,{value:o={}}),o}function se(r,o,t){return r[o]||(r[o]=Ge(t,!0))}function st(r,o){const t=Reflect.getOwnPropertyDescriptor(r,o);return!t||t.get||!t.configurable||o===M||o===z||o===it||(delete t.value,delete t.writable,t.get=()=>r[M][o]),t}function Ne(r){if(Ee()){const o=pe(r);(o._||(o._=Ge()))()}}function at(r){return Ne(r),Reflect.ownKeys(r)}function Ge(r,o){const[t,i]=le(r,o?{internal:!0}:{equals:!1,internal:!0});return t.$=i,t}const lt={get(r,o,t){if(o===Be)return r;if(o===M)return t;if(o===Se)return Ne(r);const i=pe(r),s=i[o];let l=s?i[o]():r[o];if(o===z||o==="__proto__")return l;if(!s){const d=Object.getOwnPropertyDescriptor(r,o);Ee()&&(typeof l!="function"||r.hasOwnProperty(o))&&!(d&&d.get)&&(l=se(i,o,l)())}return ee(l)?Ce(l):l},set(){return!0},deleteProperty(){return!0},ownKeys:at,getOwnPropertyDescriptor:st};function te(r,o,t){if(r[o]===t)return;const i=r[o],s=r.length;t===void 0?delete r[o]:r[o]=t;let l=pe(r),d;(d=se(l,o,i))&&d.$(()=>t),Array.isArray(r)&&r.length!==s&&(d=se(l,"length",s))&&d.$(r.length),(d=l._)&&d.$()}function $e(r,o){const t=Object.keys(o);for(let i=0;i<t.length;i+=1){const s=t[i];te(r,s,o[s])}}function ut(r,o){if(typeof o=="function"&&(o=o(r)),o=R(o),Array.isArray(o)){if(r===o)return;let t=0,i=o.length;for(;t<i;t++){const s=o[t];r[t]!==s&&te(r,t,s)}te(r,"length",i)}else $e(r,o)}function G(r,o,t=[]){let i,s=r;if(o.length>1){i=o.shift();const d=typeof i,_=Array.isArray(r);if(Array.isArray(i)){for(let h=0;h<i.length;h++)G(r,[i[h]].concat(o),t);return}else if(_&&d==="function"){for(let h=0;h<r.length;h++)i(r[h],h)&&G(r,[h].concat(o),t);return}else if(_&&d==="object"){const{from:h=0,to:y=r.length-1,by:m=1}=i;for(let e=h;e<=y;e+=m)G(r,[e].concat(o),t);return}else if(o.length>1){G(r[i],o,[i].concat(t));return}s=r[i],t=[i].concat(t)}let l=o[0];typeof l=="function"&&(l=l(s,t),l===s)||i===void 0&&l==null||(l=R(l),i===void 0||ee(s)&&ee(l)&&!Array.isArray(l)?$e(s,l):te(r,i,l))}function dt(...[r,o]){const t=R(r||{}),i=Array.isArray(t),s=Ce(t);function l(...d){Oe(()=>{i&&d.length===1?ut(t,d[0]):G(t,d)})}return[s,l]}function Ve(r){var o,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r))for(o=0;o<r.length;o++)r[o]&&(t=Ve(r[o]))&&(i&&(i+=" "),i+=t);else for(o in r)r[o]&&(i&&(i+=" "),i+=o);return i}function he(){for(var r,o,t=0,i="";t<arguments.length;)(r=arguments[t++])&&(o=Ve(r))&&(i&&(i+=" "),i+=o);return i}const ct=F('<div><div class="aper-list-lyric"><div class="aper-list"></div><div class="aper-lyric"></div></div><div class="aper-control"><button></button><button></button></div></div>'),ft=r=>{const o=new Tt({audios:r.audios,debug:r.debug}),[t,i]=dt({playIndex:r.defaultPlayIndex??0,seek:0,duration:0,status:"loading",volume:r.initialVolume??.5}),s=l=>{i("playIndex",l),o.skipTo(l,({howl:d})=>{i("duration",d.duration())}),r.onPlayIndexChange?.(l)};return o.onStep(l=>{i("seek",l.seek)}),o.on("play",()=>{console.log("play"),i("status","play")}),o.on("pause",()=>{i("status","pause")}),o.on("load",()=>{console.log("load")}),o.on("end",()=>{switch(r.loop){case"list":s((t.playIndex+1)%r.audios.length);break;case"random":s(Math.floor(Math.random()*r.audios.length));break;case"one":s(t.playIndex)}}),(()=>{const l=ct.cloneNode(!0),d=l.firstChild,_=d.firstChild,h=_.nextSibling,y=d.nextSibling,m=y.firstChild,e=m.nextSibling;return O(_,L(yt,{get audios(){return r.audios},get playIndex(){return t.playIndex},onPlayIndexChange:s})),O(h,L(xt,et(()=>r.audios[t.playIndex],{get seek(){return t.seek}}))),m.$$click=()=>{console.log(t.seek)},O(m,()=>t.seek),e.$$click=()=>{t.status==="play"?o.pause():o.play()},O(e,()=>t.status),P(()=>_e(l,he(r.class,"aper"))),l})()};De(["click"]);const _t=F("<div></div>"),pt=F('<div class="aper-list-item-name"></div>'),ht=F('<div class="aper-list-item-artist"></div>'),yt=r=>L(Fe,{get each(){return r.audios},children:(o,t)=>(()=>{const i=_t.cloneNode(!0);return i.$$click=()=>{r.playIndex!==t()&&r.onPlayIndexChange?.(t())},O(i,L(mt,o)),P(()=>_e(i,he("aper-list-item",{"aper-list-playing":t()===r.playIndex}))),i})()}),mt=r=>[(()=>{const o=pt.cloneNode(!0);return O(o,()=>r.name),P(()=>be(o,"title",r.name)),o})(),(()=>{const o=ht.cloneNode(!0);return O(o,()=>r.artist),P(()=>be(o,"title",r.artist)),o})()];De(["click"]);const gt=typeof window>"u"?require("os").EOL:`
`;function vt(r){const o=r.trim().slice(1,-1),t=o.indexOf(":");return[o.substring(0,t).trim(),o.substring(t+1).trim()]}function wt(r){if(typeof r!="string")throw new TypeError("expect first argument to be a string");let o=r.split(gt);const t=/\[(\d*\:\d*\.?\d*)\]/,i=/(.+)/,s=t,l=new RegExp(t.source+i.source),d=[],_=[],h={};for(let m=0;l.test(o[m])===!1;m++)d.push(o[m]);d.reduce((m,e)=>{const[n,a]=vt(e);return m[n]=a,m},h),o.splice(0,d.length);const y=new RegExp(l.source+"|"+s.source);o=o.filter(m=>y.test(m));for(let m=0,e=o.length;m<e;m++){const n=l.exec(o[m]),a=s.exec(o[m+1]);if(n&&a){const[,u,f]=n,[,p]=a;_.push({start:Te(u),text:f,end:Te(p)})}}return h.scripts=_,h}function Te(r){r=r.split(":");const o=parseInt(r[0],10),t=parseFloat(r[1]);if(o>0){const i=o*60+t;return parseFloat(i.toFixed(2))}return t}const At=F('<div class="aper-lyric-none">No lyric yet.</div>'),bt=F("<div></div>"),xt=r=>{const[o,t]=le(),i=async()=>{t(void 0);let d=r.lyric;if(!d){if(r.lrc)d=await(await fetch(r.lrc)).text();else return;t(wt(d))}};ve(()=>{i()});const s=()=>{const d=document.querySelector(".aper-lyric-item-active");d&&d.scrollIntoView({block:"center",behavior:"smooth"})},l=Z(()=>o()?o().scripts.findIndex(d=>d.start<=r.seek&&d.end>=r.seek):-1);return ve(()=>{l(),s()}),L(tt,{get when(){return o()},get fallback(){return At.cloneNode(!0)},get children(){return L(Fe,{get each(){return o().scripts},children:(d,_)=>(()=>{const h=bt.cloneNode(!0);return O(h,()=>d.text),P(()=>_e(h,he("aper-lyric-item",{"aper-lyric-item-active":l()===_()}))),h})()})}})};var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var o=function(){this.init()};o.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||m(),typeof e<"u"&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var a=0;a<n._howls.length;a++)if(!n._howls[a]._webAudio)for(var u=n._howls[a]._getSoundIds(),f=0;f<u.length;f++){var p=n._howls[a]._soundById(u[f]);p&&p._node&&(p._node.volume=p._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||m(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var a=0;a<n._howls.length;a++)if(!n._howls[a]._webAudio)for(var u=n._howls[a]._getSoundIds(),f=0;f<u.length;f++){var p=n._howls[a]._soundById(u[f]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return n},stop:function(){for(var e=this||t,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var n=new Audio;typeof n.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var a=n.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",f=u.match(/OPR\/([0-6].)/g),p=f&&parseInt(f[0].split("/")[1],10)<33,c=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,g=u.match(/Version\/(.*?) /),v=c&&g&&parseInt(g[1],10)<15;return e._codecs={mp3:!!(!p&&(a||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!a,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!v&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!v&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(a){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var f=0;f<e._howls.length;f++)if(!e._howls[f]._webAudio)for(var p=e._howls[f]._getSoundIds(),c=0;c<p.length;c++){var g=e._howls[f]._soundById(p[c]);g&&g._node&&!g._node._unlocked&&(g._node._unlocked=!0,g._node.load())}e._autoResume();var v=e.ctx.createBufferSource();v.buffer=e._scratchBuffer,v.connect(e.ctx.destination),typeof v.start>"u"?v.noteOn(0):v.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),v.onended=function(){v.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var w=0;w<e._howls.length;w++)e._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var a=0;a<e._howls[n]._sounds.length;a++)if(!e._howls[n]._sounds[a]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new o,i=function(e){var n=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(e)};i.prototype={init:function(e){var n=this;return t.ctx||m(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var a=0;a<e._src.length;a++){var u,f;if(e._format&&e._format[a])u=e._format[a];else{if(f=e._src[a],typeof f!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(f),u||(u=/\.([^.]+)$/.exec(f.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){n=e._src[a];break}}if(!n){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&d(e),e},play:function(e,n){var a=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&a._state==="loaded"&&!a._sprite[e])return null;if(typeof e>"u"&&(e="__default",!a._playLock)){for(var f=0,p=0;p<a._sounds.length;p++)a._sounds[p]._paused&&!a._sounds[p]._ended&&(f++,u=a._sounds[p]._id);f===1?e=null:u=null}}var c=u?a._soundById(u):a._inactiveSound();if(!c)return null;if(u&&!e&&(e=c._sprite||"__default"),a._state!=="loaded"){c._sprite=e,c._ended=!1;var g=c._id;return a._queue.push({event:"play",action:function(){a.play(g)}}),g}if(u&&!c._paused)return n||a._loadQueue("play"),c._id;a._webAudio&&t._autoResume();var v=Math.max(0,c._seek>0?c._seek:a._sprite[e][0]/1e3),w=Math.max(0,(a._sprite[e][0]+a._sprite[e][1])/1e3-v),x=w*1e3/Math.abs(c._rate),E=a._sprite[e][0]/1e3,X=(a._sprite[e][0]+a._sprite[e][1])/1e3;c._sprite=e,c._ended=!1;var oe=function(){c._paused=!1,c._seek=v,c._start=E,c._stop=X,c._loop=!!(c._loop||a._sprite[e][2])};if(v>=X){a._ended(c);return}var A=c._node;if(a._webAudio){var ye=function(){a._playLock=!1,oe(),a._refreshBuffer(c);var D=c._muted||a._muted?0:c._volume;A.gain.setValueAtTime(D,t.ctx.currentTime),c._playStart=t.ctx.currentTime,typeof A.bufferSource.start>"u"?c._loop?A.bufferSource.noteGrainOn(0,v,86400):A.bufferSource.noteGrainOn(0,v,w):c._loop?A.bufferSource.start(0,v,86400):A.bufferSource.start(0,v,w),x!==1/0&&(a._endTimers[c._id]=setTimeout(a._ended.bind(a,c),x)),n||setTimeout(function(){a._emit("play",c._id),a._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?ye():(a._playLock=!0,a.once("resume",ye),a._clearTimer(c._id))}else{var me=function(){A.currentTime=v,A.muted=c._muted||a._muted||t._muted||A.muted,A.volume=c._volume*t.volume(),A.playbackRate=c._rate;try{var D=A.play();if(D&&typeof Promise<"u"&&(D instanceof Promise||typeof D.then=="function")?(a._playLock=!0,oe(),D.then(function(){a._playLock=!1,A._unlocked=!0,n?a._loadQueue():a._emit("play",c._id)}).catch(function(){a._playLock=!1,a._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),c._ended=!0,c._paused=!0})):n||(a._playLock=!1,oe(),a._emit("play",c._id)),A.playbackRate=c._rate,A.paused){a._emit("playerror",c._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||c._loop?a._endTimers[c._id]=setTimeout(a._ended.bind(a,c),x):(a._endTimers[c._id]=function(){a._ended(c),A.removeEventListener("ended",a._endTimers[c._id],!1)},A.addEventListener("ended",a._endTimers[c._id],!1))}catch(qe){a._emit("playerror",c._id,qe)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=a._src,A.load());var je=window&&window.ejecta||!A.readyState&&t._navigator.isCocoonJS;if(A.readyState>=3||je)me();else{a._playLock=!0,a._state="loading";var ge=function(){a._state="loaded",me(),A.removeEventListener(t._canPlayEvent,ge,!1)};A.addEventListener(t._canPlayEvent,ge,!1),a._clearTimer(c._id)}}return c._id},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var a=n._getSoundIds(e),u=0;u<a.length;u++){n._clearTimer(a[u]);var f=n._soundById(a[u]);if(f&&!f._paused&&(f._seek=n.seek(a[u]),f._rateSeek=0,f._paused=!0,n._stopFade(a[u]),f._node))if(n._webAudio){if(!f._node.bufferSource)continue;typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),n._cleanBuffer(f._node)}else(!isNaN(f._node.duration)||f._node.duration===1/0)&&f._node.pause();arguments[1]||n._emit("pause",f?f._id:null)}return n},stop:function(e,n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"stop",action:function(){a.stop(e)}}),a;for(var u=a._getSoundIds(e),f=0;f<u.length;f++){a._clearTimer(u[f]);var p=a._soundById(u[f]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,a._stopFade(u[f]),p._node&&(a._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),a._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&a._clearSound(p._node))),n||a._emit("stop",p._id))}return a},mute:function(e,n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(e,n)}}),a;if(typeof n>"u")if(typeof e=="boolean")a._muted=e;else return a._muted;for(var u=a._getSoundIds(n),f=0;f<u.length;f++){var p=a._soundById(u[f]);p&&(p._muted=e,p._interval&&a._stopFade(p._id),a._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,t.ctx.currentTime):p._node&&(p._node.muted=t._muted?!0:e),a._emit("mute",p._id))}return a},volume:function(){var e=this,n=arguments,a,u;if(n.length===0)return e._volume;if(n.length===1||n.length===2&&typeof n[1]>"u"){var f=e._getSoundIds(),p=f.indexOf(n[0]);p>=0?u=parseInt(n[0],10):a=parseFloat(n[0])}else n.length>=2&&(a=parseFloat(n[0]),u=parseInt(n[1],10));var c;if(typeof a<"u"&&a>=0&&a<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,n)}}),e;typeof u>"u"&&(e._volume=a),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)c=e._soundById(u[g]),c&&(c._volume=a,n[2]||e._stopFade(u[g]),e._webAudio&&c._node&&!c._muted?c._node.gain.setValueAtTime(a,t.ctx.currentTime):c._node&&!c._muted&&(c._node.volume=a*t.volume()),e._emit("volume",c._id))}else return c=u?e._soundById(u):e._sounds[0],c?c._volume:0;return e},fade:function(e,n,a,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"fade",action:function(){f.fade(e,n,a,u)}}),f;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),a=parseFloat(a),f.volume(e,u);for(var p=f._getSoundIds(u),c=0;c<p.length;c++){var g=f._soundById(p[c]);if(g){if(u||f._stopFade(p[c]),f._webAudio&&!g._muted){var v=t.ctx.currentTime,w=v+a/1e3;g._volume=e,g._node.gain.setValueAtTime(e,v),g._node.gain.linearRampToValueAtTime(n,w)}f._startFadeInterval(g,e,n,a,p[c],typeof u>"u")}}return f},_startFadeInterval:function(e,n,a,u,f,p){var c=this,g=n,v=a-n,w=Math.abs(v/.01),x=Math.max(4,w>0?u/w:u),E=Date.now();e._fadeTo=a,e._interval=setInterval(function(){var X=(Date.now()-E)/u;E=Date.now(),g+=v*X,g=Math.round(g*100)/100,v<0?g=Math.max(a,g):g=Math.min(a,g),c._webAudio?e._volume=g:c.volume(g,e._id,!0),p&&(c._volume=g),(a<n&&g<=a||a>n&&g>=a)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,c.volume(a,e._id),c._emit("fade",e._id))},x)},_stopFade:function(e){var n=this,a=n._soundById(e);return a&&a._interval&&(n._webAudio&&a._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(a._interval),a._interval=null,n.volume(a._fadeTo,e),a._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e=this,n=arguments,a,u,f;if(n.length===0)return e._loop;if(n.length===1)if(typeof n[0]=="boolean")a=n[0],e._loop=a;else return f=e._soundById(parseInt(n[0],10)),f?f._loop:!1;else n.length===2&&(a=n[0],u=parseInt(n[1],10));for(var p=e._getSoundIds(u),c=0;c<p.length;c++)f=e._soundById(p[c]),f&&(f._loop=a,e._webAudio&&f._node&&f._node.bufferSource&&(f._node.bufferSource.loop=a,a&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop,e.playing(p[c])&&(e.pause(p[c],!0),e.play(p[c],!0)))));return e},rate:function(){var e=this,n=arguments,a,u;if(n.length===0)u=e._sounds[0]._id;else if(n.length===1){var f=e._getSoundIds(),p=f.indexOf(n[0]);p>=0?u=parseInt(n[0],10):a=parseFloat(n[0])}else n.length===2&&(a=parseFloat(n[0]),u=parseInt(n[1],10));var c;if(typeof a=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;typeof u>"u"&&(e._rate=a),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)if(c=e._soundById(u[g]),c){e.playing(u[g])&&(c._rateSeek=e.seek(u[g]),c._playStart=e._webAudio?t.ctx.currentTime:c._playStart),c._rate=a,e._webAudio&&c._node&&c._node.bufferSource?c._node.bufferSource.playbackRate.setValueAtTime(a,t.ctx.currentTime):c._node&&(c._node.playbackRate=a);var v=e.seek(u[g]),w=(e._sprite[c._sprite][0]+e._sprite[c._sprite][1])/1e3-v,x=w*1e3/Math.abs(c._rate);(e._endTimers[u[g]]||!c._paused)&&(e._clearTimer(u[g]),e._endTimers[u[g]]=setTimeout(e._ended.bind(e,c),x)),e._emit("rate",c._id)}}else return c=e._soundById(u),c?c._rate:e._rate;return e},seek:function(){var e=this,n=arguments,a,u;if(n.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(n.length===1){var f=e._getSoundIds(),p=f.indexOf(n[0]);p>=0?u=parseInt(n[0],10):e._sounds.length&&(u=e._sounds[0]._id,a=parseFloat(n[0]))}else n.length===2&&(a=parseFloat(n[0]),u=parseInt(n[1],10));if(typeof u>"u")return 0;if(typeof a=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,n)}}),e;var c=e._soundById(u);if(c)if(typeof a=="number"&&a>=0){var g=e.playing(u);g&&e.pause(u,!0),c._seek=a,c._ended=!1,e._clearTimer(u),!e._webAudio&&c._node&&!isNaN(c._node.duration)&&(c._node.currentTime=a);var v=function(){g&&e.play(u,!0),e._emit("seek",u)};if(g&&!e._webAudio){var w=function(){e._playLock?setTimeout(w,0):v()};setTimeout(w,0)}else v()}else if(e._webAudio){var x=e.playing(u)?t.ctx.currentTime-c._playStart:0,E=c._rateSeek?c._rateSeek-c._seek:0;return c._seek+(E+x*Math.abs(c._rate))}else return c._node.currentTime;return e},playing:function(e){var n=this;if(typeof e=="number"){var a=n._soundById(e);return a?!a._paused:!1}for(var u=0;u<n._sounds.length;u++)if(!n._sounds[u]._paused)return!0;return!1},duration:function(e){var n=this,a=n._duration,u=n._soundById(e);return u&&(a=n._sprite[u._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,a=0;a<n.length;a++)n[a]._paused||e.stop(n[a]._id),e._webAudio||(e._clearSound(n[a]._node),n[a]._node.removeEventListener("error",n[a]._errorFn,!1),n[a]._node.removeEventListener(t._canPlayEvent,n[a]._loadFn,!1),n[a]._node.removeEventListener("ended",n[a]._endFn,!1),t._releaseHtml5Audio(n[a]._node)),delete n[a]._node,e._clearTimer(n[a]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1);var f=!0;for(a=0;a<t._howls.length;a++)if(t._howls[a]._src===e._src||e._src.indexOf(t._howls[a]._src)>=0){f=!1;break}return l&&f&&delete l[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,a,u){var f=this,p=f["_on"+e];return typeof n=="function"&&p.push(u?{id:a,fn:n,once:u}:{id:a,fn:n}),f},off:function(e,n,a){var u=this,f=u["_on"+e],p=0;if(typeof n=="number"&&(a=n,n=null),n||a)for(p=0;p<f.length;p++){var c=a===f[p].id;if(n===f[p].fn&&c||!n&&c){f.splice(p,1);break}}else if(e)u["_on"+e]=[];else{var g=Object.keys(u);for(p=0;p<g.length;p++)g[p].indexOf("_on")===0&&Array.isArray(u[g[p]])&&(u[g[p]]=[])}return u},once:function(e,n,a){var u=this;return u.on(e,n,a,1),u},_emit:function(e,n,a){for(var u=this,f=u["_on"+e],p=f.length-1;p>=0;p--)(!f[p].id||f[p].id===n||e==="load")&&(setTimeout(function(c){c.call(this,n,a)}.bind(u,f[p].fn),0),f[p].once&&u.off(e,f[p].fn,f[p].id));return u._loadQueue(e),u},_loadQueue:function(e){var n=this;if(n._queue.length>0){var a=n._queue[0];a.event===e&&(n._queue.shift(),n._loadQueue()),e||a.action()}return n},_ended:function(e){var n=this,a=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var u=!!(e._loop||n._sprite[a][2]);if(n._emit("end",e._id),!n._webAudio&&u&&n.stop(e._id,!0).play(e._id),n._webAudio&&u){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var f=(e._stop-e._start)*1e3/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),f)}return n._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),!n._webAudio&&!u&&n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var a=n._soundById(e);a&&a._node&&a._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,a=0;a<n._sounds.length;a++)if(e===n._sounds[a]._id)return n._sounds[a];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new s(e)},_drain:function(){var e=this,n=e._pool,a=0,u=0;if(!(e._sounds.length<n)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&a++;for(u=e._sounds.length-1;u>=0;u--){if(a<=n)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),a--)}}},_getSoundIds:function(e){var n=this;if(typeof e>"u"){for(var a=[],u=0;u<n._sounds.length;u++)a.push(n._sounds[u]._id);return a}else return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=l[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),n},_cleanBuffer:function(e){var n=this,a=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),a))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,n},_clearSound:function(e){var n=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);n||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,a=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(a,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=a*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(e._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(e._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},d=function(e){var n=e._src;if(l[n]){e._duration=l[n].duration,y(e);return}if(/^data:[^;]+;base64,/.test(n)){for(var a=atob(n.split(",")[1]),u=new Uint8Array(a.length),f=0;f<a.length;++f)u[f]=a.charCodeAt(f);h(u.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,n,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(c){p.setRequestHeader(c,e._xhr.headers[c])}),p.onload=function(){var c=(p.status+"")[0];if(c!=="0"&&c!=="2"&&c!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}h(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[n],e.load())},_(p)}},_=function(e){try{e.send()}catch{e.onerror()}},h=function(e,n){var a=function(){n._emit("loaderror",null,"Decoding audio data failed.")},u=function(f){f&&n._sounds.length>0?(l[n._src]=f,y(n,f)):a()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(u).catch(a):t.ctx.decodeAudioData(e,u,a)},y=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=n?parseInt(n[1],10):null;if(e&&a&&a<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};r.Howler=t,r.Howl=i,typeof N<"u"?(N.HowlerGlobal=o,N.Howler=t,N.Howl=i,N.Sound=s):typeof window<"u"&&(window.HowlerGlobal=o,window.Howler=t,window.Howl=i,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var s=i._howls.length-1;s>=0;s--)i._howls[s].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,s){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(i=typeof i!="number"?l._pos[1]:i,s=typeof s!="number"?l._pos[2]:s,typeof t=="number")l._pos=[t,i,s],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(t,i,s,l,d,_){var h=this;if(!h.ctx||!h.ctx.listener)return h;var y=h._orientation;if(i=typeof i!="number"?y[1]:i,s=typeof s!="number"?y[2]:s,l=typeof l!="number"?y[3]:l,d=typeof d!="number"?y[4]:d,_=typeof _!="number"?y[5]:_,typeof t=="number")h._orientation=[t,i,s,l,d,_],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(_,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(t,i,s,l,d,_);else return y;return h},Howl.prototype.init=function(t){return function(i){var s=this;return s._orientation=i.orientation||[1,0,0],s._stereo=i.stereo||null,s._pos=i.pos||null,s._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},s._onstereo=i.onstereo?[{fn:i.onstereo}]:[],s._onpos=i.onpos?[{fn:i.onpos}]:[],s._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(t,i)}}),s;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof t=="number")s._stereo=t,s._pos=[t,0,0];else return s._stereo;for(var d=s._getSoundIds(i),_=0;_<d.length;_++){var h=s._soundById(d[_]);if(h)if(typeof t=="number")h._stereo=t,h._pos=[t,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&o(h,l),l==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(t,0,0):h._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),s._emit("stereo",h._id);else return h._stereo}return s},Howl.prototype.pos=function(t,i,s,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(t,i,s,l)}}),d;if(i=typeof i!="number"?0:i,s=typeof s!="number"?-.5:s,typeof l>"u")if(typeof t=="number")d._pos=[t,i,s];else return d._pos;for(var _=d._getSoundIds(l),h=0;h<_.length;h++){var y=d._soundById(_[h]);if(y)if(typeof t=="number")y._pos=[t,i,s],y._node&&((!y._panner||y._panner.pan)&&o(y,"spatial"),typeof y._panner.positionX<"u"?(y._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),y._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),y._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):y._panner.setPosition(t,i,s)),d._emit("pos",y._id);else return y._pos}return d},Howl.prototype.orientation=function(t,i,s,l){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(t,i,s,l)}}),d;if(i=typeof i!="number"?d._orientation[1]:i,s=typeof s!="number"?d._orientation[2]:s,typeof l>"u")if(typeof t=="number")d._orientation=[t,i,s];else return d._orientation;for(var _=d._getSoundIds(l),h=0;h<_.length;h++){var y=d._soundById(_[h]);if(y)if(typeof t=="number")y._orientation=[t,i,s],y._node&&(y._panner||(y._pos||(y._pos=d._pos||[0,0,-.5]),o(y,"spatial")),typeof y._panner.orientationX<"u"?(y._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),y._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),y._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):y._panner.setOrientation(t,i,s)),d._emit("orientation",y._id);else return y._orientation}return d},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,s,l,d;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]=="object")s=i[0],typeof l>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),t._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:t._panningModel});else return d=t._soundById(parseInt(i[0],10)),d?d._pannerAttr:t._pannerAttr;else i.length===2&&(s=i[0],l=parseInt(i[1],10));for(var _=t._getSoundIds(l),h=0;h<_.length;h++)if(d=t._soundById(_[h]),d){var y=d._pannerAttr;y={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:y.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:y.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:y.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:y.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:y.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:y.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:y.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:y.panningModel};var m=d._panner;m?(m.coneInnerAngle=y.coneInnerAngle,m.coneOuterAngle=y.coneOuterAngle,m.coneOuterGain=y.coneOuterGain,m.distanceModel=y.distanceModel,m.maxDistance=y.maxDistance,m.refDistance=y.refDistance,m.rolloffFactor=y.rolloffFactor,m.panningModel=y.panningModel):(d._pos||(d._pos=t._pos||[0,0,-.5]),o(d,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var i=this,s=i._parent;i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,t.call(this),i._stereo?s.stereo(i._stereo):i._pos&&s.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,s=i._parent;return i._orientation=s._orientation,i._stereo=s._stereo,i._pos=s._pos,i._pannerAttr=s._pannerAttr,i._stereo?s.stereo(i._stereo):i._pos?s.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,s._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var o=function(t,i){i=i||"spatial",i==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Re);class Tt{constructor(o){this.stepEvents=[],this.howlEvents={},this.timeout=1e3,this.index=0,this.playlist=o.audios,this.debug=o.debug??!1,this.options=o}play(o){this.debug&&console.log("play",o);var t=this;let i;o=typeof o=="number"?o:t.index;var s=t.playlist[o];if(s.howl)i=s.howl;else{t.debug&&console.log("new howl"),i=s.howl=new Re.Howl({src:[s.url],html5:!0,onplay(){St(Math.round(i.duration())),t.resetInterval()},onload(){},onend(){},onpause(){},onstop(){},onseek(){t.resetInterval()}});for(const l in t.howlEvents)t.howlEvents[l].forEach(d=>{d.once?i.once(l,d.callback,d.id):i.on(l,d.callback,d.id)})}!i.playing()&&i.play(),t.index=o}pause(){this.debug&&console.log("pause");var o=this;o.playlist[o.index].howl.pause()}skip(o,t){this.debug&&console.log("skip",o);var i=this,s=0;o==="prev"?(s=i.index-1,s<0&&(s=i.playlist.length-1)):(s=i.index+1,s>=i.playlist.length&&(s=0)),i.skipTo(s,t)}skipTo(o,t){this.debug&&console.log("skipTo",o);var i=this;i.playlist[i.index].howl?.stop(),i.play(o),t?.({index:o,audio:i.playlist[o],howl:i.playlist[o].howl})}volume(o){this.debug&&console.log("volume",o),Howler.volume(o)}seek(o){this.debug&&console.log("seek",o);var t=this,i=t.playlist[t.index].howl;i?.playing()&&i.seek(i.duration()*o)}resetInterval(){var o=this;o.interval&&clearInterval(o.interval),clearInterval(o.interval),o.interval=window.setInterval(()=>{o.step()},o.timeout)}step(){this.debug&&console.log("step");var o=this,t=o.playlist[o.index].howl,i=t?.seek()||0;const s=i/t?.duration()*100;o.stepEvents.forEach(l=>l({seek:i,percent:s})),t?.playing()||clearInterval(o.interval)}onStep(o){this.stepEvents.push(o)}offStep(o){this.stepEvents=this.stepEvents.filter(t=>t!==o)}on(o,t,i){this.debug&&console.log("on",o);var s=this;return s.playlist[s.index].howl?.on(o,t,i),s.howlEvents[o]||(s.howlEvents[o]=[]),s.howlEvents[o].push({callback:t,id:i,once:!1}),s}once(o,t,i){this.debug&&console.log("once",o);var s=this;return s.playlist[s.index].howl?.once(o,t,i),s.howlEvents[o]||(s.howlEvents[o]=[]),s.howlEvents[o].push({callback:t,id:i,once:!0}),s}off(o,t,i){this.debug&&console.log("off",o);var s=this;return s.playlist[s.index].howl?.off(o,t,i),o&&(s.howlEvents[o]=s.howlEvents[o].filter(l=>l.callback!==t&&l.id!==i)),s}}function St(r){var o=Math.floor(r/60)||0,t=r-o*60||0;return o+":"+(t<10?"0":"")+t}const kt=F("<div></div>"),It=()=>(()=>{const r=kt.cloneNode(!0);return O(r,L(ft,{audios:[]})),r})();ot(()=>L(It,{}),document.getElementById("root"));
